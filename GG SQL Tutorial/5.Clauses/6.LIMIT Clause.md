A clÃ¡usula **LIMIT** no **SQL** Ã© usada para **controlar o nÃºmero de linhas retornadas** em uma consulta.

ðŸ“Œ **Ã‰ especialmente Ãºtil em conjuntos de dados grandes**, permitindo recuperar **apenas o nÃºmero necessÃ¡rio de registros** para **anÃ¡lise ou exibiÃ§Ã£o**.

Seja para **paginar resultados**, **encontrar os registros principais** ou **exibir uma amostra de dados**, a clÃ¡usula **LIMIT** Ã© **essencial para otimizar consultas SQL**.

Neste artigo, explicaremos **o que Ã© a clÃ¡usula LIMIT**, **como usÃ¡-la** e forneceremos **exemplos prÃ¡ticos** para mostrar sua importÃ¢ncia nas consultas SQL do dia a dia.

### **O que Ã© a clÃ¡usula SQL LIMIT?**

A clÃ¡usula **LIMIT** no SQL Ã© usada para **definir um nÃºmero mÃ¡ximo de registros** retornados por uma consulta.

ðŸ“Œ Ã‰ usada principalmente para **limitar resultados**, como em: 
âœ… **PaginaÃ§Ã£o de resultados** (ex.: mostrar 10 registros por pÃ¡gina). 
âœ… **RecuperaÃ§Ã£o dos principais valores** (ex.: os 5 produtos mais bem avaliados). 
âœ… **Amostragem de dados** (ex.: obter uma amostra aleatÃ³ria de registros para anÃ¡lise).

## **Sintaxe**

```
SELECT coluna1, coluna2, â€¦
FROM nome_da_tabela
WHERE condiÃ§Ã£o
ORDER BY coluna
LIMIT [offset,] row_count;
```

### **ExplicaÃ§Ã£o dos Termos**

ðŸ“Œ **offset**: NÃºmero de **linhas a serem ignoradas** antes de exibir o conjunto de resultados. ðŸ“Œ **row_count**: NÃºmero de **linhas a serem retornadas** no conjunto de resultados.

### **Exemplo 1: Uso bÃ¡sico do LIMIT**

ðŸŽ¯ **Recuperar os primeiros 3 alunos da tabela "Student".**

```
CREATE TABLE student (
  id INT PRIMARY KEY,
  name VARCHAR(50),
  age INT
);

INSERT INTO student (id, name, age)
VALUES 
(1, 'Shubham Thakur', 18),
(2, 'Aman Chopra', 19),
(3, 'Bhavika Uppala', 20),
(4, 'Anshi Shrivastava', 22);

SELECT * FROM student 
LIMIT 3;
```

##### **SaÃ­da**

|ID|Nome|Idade|
|---|---|---|
|1|Shubham Thakur|18|
|2|Aman Chopra|19|
|3|Bhavika Uppala|20|

ðŸ“Œ **A clÃ¡usula LIMIT restringiu a consulta aos 3 primeiros registros!**

### **Exemplo 2: LIMIT com ORDER BY**

ðŸŽ¯ **Selecionar os 3 alunos com melhores notas (considerando que hÃ¡ uma coluna "Grade").**

```
SELECT * FROM Student
ORDER BY Grade DESC
LIMIT 3;
```

##### **SaÃ­da**

|Nome|Nota|
|---|---|
|Bhavika|95|
|Aman|92|
|Shubham|88|

ðŸ“Œ **Primeiro, os registros foram ordenados pela nota em ordem decrescente.** 
ðŸ“Œ **Depois, a consulta foi limitada aos 3 primeiros alunos.**

### **LIMIT com OFFSET**

ðŸ“Œ **OFFSET permite ignorar um determinado nÃºmero de linhas antes de retornar os resultados**. 
ðŸ“Œ **Pode ser usado com ORDER BY para paginar resultados.** 
ðŸ“Œ **O valor de OFFSET deve ser maior ou igual a zero** (nÃ£o pode ser negativo).

## **Sintaxe**

```
SELECT * FROM nome_da_tabela 
ORDER BY nome_da_coluna 
LIMIT X OFFSET Y;
```

OU

```
SELECT * FROM nome_da_tabela 
ORDER BY nome_da_coluna 
LIMIT Y, X;
```

ðŸ“Œ **X â†’ NÃºmero de registros a retornar**. 
ðŸ“Œ **Y â†’ NÃºmero de registros a ignorar antes de exibir os resultados**.

### **Exemplo 3: Ignorar 2 registros e recuperar os prÃ³ximos 2**

ðŸŽ¯ **Pular os 2 primeiros alunos e recuperar os prÃ³ximos 2 com base na idade.**

```
SELECT * 
FROM Student 
ORDER BY age 
LIMIT 2 OFFSET 2;
```

##### **SaÃ­da**

|Nome|Idade|
|---|---|
|Bhavika|20|
|Anshi|22|

ðŸ“Œ **Os dois primeiros registros foram ignorados, e os dois seguintes foram retornados.**

### **Usando LIMIT para Encontrar o nth Maior ou Menor Valor**

ðŸ“Œ **Podemos usar LIMIT para encontrar valores especÃ­ficos no conjunto de dados**, como **o terceiro maior valor**.

#### **Sintaxe**

```
SELECT lista_de_colunas  
FROM nome_da_tabela  
ORDER BY expressÃ£o  
LIMIT n-1, 1;
```

### **Exemplo 4: Recuperar a 3Âª maior idade**

ðŸŽ¯ **Encontrar a terceira maior idade na tabela "Student".**

```
SELECT age 
FROM Student  
ORDER BY age DESC 
LIMIT 2, 1;
```

##### **SaÃ­da**

|Idade|
|---|
|20|

ðŸ“Œ **Ordenamos os registros em ordem decrescente (maior idade primeiro).** 
ðŸ“Œ **Ignoramos os dois primeiros valores (LIMIT 2) e retornamos o terceiro (LIMIT 2,1).**

### **Usando LIMIT com WHERE**

ðŸ“Œ **A clÃ¡usula WHERE pode ser combinada com LIMIT para filtrar resultados antes da limitaÃ§Ã£o.**

### **Exemplo 5: Encontrar o aluno mais jovem com ID menor que 4**

```
SELECT age
FROM Student
WHERE id < 4
ORDER BY age
LIMIT 2, 1;
```

##### **SaÃ­da**

|Idade|
|---|
|19|

ðŸ“Œ **A consulta filtrou alunos com ID menor que 4, ordenou por idade e retornou o segundo mais jovem.**

### **RestriÃ§Ãµes da clÃ¡usula LIMIT**

ðŸš¨ **A clÃ¡usula LIMIT nÃ£o pode ser usada em algumas situaÃ§Ãµes, incluindo**: 
âœ… **DefiniÃ§Ã£o de uma View**. 
âœ… **Uso em subconsultas aninhadas, exceto em tabelas temporÃ¡rias dentro de FROM**. 
âœ… **ExpressÃµes dentro de SELECT em procedimentos armazenados**.

### **Pontos Importantes Sobre LIMIT**

âœ… **LIMIT restringe o nÃºmero de registros retornados por uma consulta SQL.** 
âœ… **Nem todos os sistemas SQL suportam LIMIT (exemplo: em SQL Server, usamos TOP).** 
âœ… **LIMIT pode ser combinado com ORDER BY, OFFSET e WHERE para consultas mais refinadas.** 
âœ… **Usar LIMIT ajuda a reduzir a carga no banco de dados, melhorando a velocidade das consultas.**

### **ConclusÃ£o**

ðŸ“Œ **A clÃ¡usula LIMIT Ã© uma ferramenta essencial no SQL para otimizar consultas e restringir resultados.**

âœ… **Amplamente usada em paginaÃ§Ã£o, anÃ¡lise de amostras e recuperaÃ§Ã£o dos registros mais relevantes**. 
âœ… **Combinada com ORDER BY, OFFSET e WHERE, oferece flexibilidade para consultas avanÃ§adas**. 
âœ… **Reduz o impacto no banco de dados ao buscar apenas os dados necessÃ¡rios**.

ðŸš€ **Dominar a clÃ¡usula LIMIT tornarÃ¡ suas consultas SQL mais eficientes e organizadas!**


